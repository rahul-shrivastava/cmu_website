<% provide(:title, 'Book List')  %>
<h1>Book List</h1>

<table class="table table-bordered" >
  <tr>
    <th>Name</th>
    <th>Description</th>
    <th>Price in USD</th>
    <th>Editor review</th>
    <th>Publisher</th>
    <th>Language</th>
    <th>Ebook</th>
    <th>Seller</th>
    <th>File size in MB</th>
    <th>Reviews</th>
    <th></th>
    <th></th>
  </tr>

<% @books.each do |book| %>
  <tr>
    <td><%= link_to book.name, book %></td>
    <td><%= book.description %></td>
    <td><%= number_with_precision book.price, :precision => 2  %></td>
    <td><%= book.editor_review %></td>
    <td><%= book.publisher %></td>
    <td><%= book.language %></td>
    <td><%= book.ebook %></td>
    <td><%= book.seller %></td>
    <td><%= number_with_precision book.file_size, :precision => 2  %></td>
    <td><%= link_to_if(book.reviews.exists?, "Review", { :controller => "reviews", :action => "index", :book_id =>book.id }) %> </td>
    <td><%= link_to 'Edit', edit_book_path(book) %></td>
    <td><%= link_to 'Delete', book, method: :delete, data: { confirm: 'Are you sure?' } %></td>
  </tr>
<% end %>
</table>

<br />

<%= link_to 'New Book', new_book_path %>
